From 254a09e268b5c8de646b73f571aa6b125e05a046 Mon Sep 17 00:00:00 2001
From: Guillaume Tucker <guillaume.tucker@collabora.com>
Date: Wed, 22 Nov 2017 15:09:05 +0000
Subject: [PATCH 1/6] STAGING bisect.jpl: add -staging in tags and email
 subjects

---
 jenkins/bisect.jpl | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/jenkins/bisect.jpl b/jenkins/bisect.jpl
index c09ca33e0279..2246dfade2c7 100644
--- a/jenkins/bisect.jpl
+++ b/jenkins/bisect.jpl
@@ -122,7 +122,7 @@ def createTag(kdir, iteration) {
     def tag = gitDescribe(kdir)
 
     dir(kdir) {
-        tag += "-${env.JOB_NAME}-${currentBuild.number}-${iteration}"
+        tag += "-${env.JOB_NAME}-staging-${currentBuild.number}-${iteration}"
         sh(script: "git tag -a ${tag} -m ${tag} HEAD")
     }
 
@@ -445,7 +445,7 @@ def bisectNext(kdir, status) {
  */
 
 def pushResults(kci_core, kdir, checks, params_summary) {
-    def subject = "${params.KERNEL_TREE}/${params.KERNEL_BRANCH} ${params.PLAN} bisection: ${params.KERNEL_NAME} on ${params.TARGET}"
+    def subject = "${params.KERNEL_TREE}/${params.KERNEL_BRANCH} ${params.PLAN} bisection: ${params.KERNEL_NAME} on ${params.TARGET} #${env.BUILD_NUMBER}-staging"
 
     dir(kci_core) {
         withCredentials([string(credentialsId: params.KCI_TOKEN_ID,
@@ -690,7 +690,7 @@ ${params_summary}""")
             currentBuild.result = "FAILURE"
 
             def tree_branch = "${params.KERNEL_TREE}/${params.KERNEL_BRANCH}"
-            def subject = "bisection error: #${env.BUILD_NUMBER} \
+            def subject = "bisection error: #${env.BUILD_NUMBER}-staging \
 ${tree_branch} ${params.LAB} ${params.TARGET}"
             def body = """\
 ${env.BUILD_URL}
-- 
2.20.1

